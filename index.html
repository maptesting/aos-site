<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>AOS ‚Äì AI Optimization Solutions | Charlotte‚Äôs 24/7 AI Receptionist</title>
  <meta name="description" content="Charlotte-based AI receptionists that answer calls, text back, price jobs, and book appointments 24/7‚Äîso local operators never miss revenue." />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ü§ñ</text></svg>">

  <!-- Open Graph -->
  <meta property="og:title" content="AOS ‚Äì AI Optimization Solutions" />
  <meta property="og:description" content="24/7 AI receptionist for Charlotte‚Äôs car detailers, rentals, tint, mechanics & more." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://your-domain.com/" />
  <meta property="og:image" content="https://your-domain.com/og-image.jpg" />

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {50:"#f5f8ff",100:"#eaf0ff",200:"#cfdcff",300:"#a5baff",400:"#7991ff",500:"#556dff",600:"#3d4fe6",700:"#2f3bb4",800:"#222a82",900:"#141a51"},
            ink:"#0b0f1a"
          },
          boxShadow:{ soft:"0 8px 30px rgba(0,0,0,.08)" }
        }
      }
    }
  </script>
  <style>
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.08); }
    .gradient { background: radial-gradient(1200px 600px at 20% -10%, rgba(85,109,255,.25), transparent 60%), radial-gradient(1000px 600px at 100% 0%, rgba(34,42,130,.35), transparent 60%), linear-gradient(180deg, #0b0f1a 0%, #0b0f1a 100%); }
    html { scroll-behavior: smooth; }
    .site-logo { width: 36px; height: 36px; object-fit: contain; border-radius: 0.75rem; background: transparent; }
    select, select option { background-color: rgba(255,255,255,0.08) !important; color: #fff !important; }
    select:focus { outline: none; box-shadow: 0 0 0 2px rgba(85,109,255,.6); }
    @supports (-webkit-touch-callout: none) { select { -webkit-text-fill-color: #fff; } }
    .code { white-space: pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
  </style>

  <!-- Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"LocalBusiness",
    "name":"AOS ‚Äì AI Optimization Solutions",
    "url":"https://your-domain.com/",
    "logo":"images/logo/ChatGPT Image Oct 26, 2025, 04_40_34 PM.png",
    "areaServed":{
      "@type":"GeoCircle",
      "name":"Charlotte Metro",
      "geoMidpoint":{"@type":"GeoCoordinates","latitude":35.2271,"longitude":-80.8431},
      "geoRadius":65000
    },
    "address":{"@type":"PostalAddress","addressLocality":"Charlotte","addressRegion":"NC","addressCountry":"US"}
  }
  </script>
</head>
<body class="bg-ink text-white antialiased selection:bg-brand-300/30">

  <!-- Banner -->
  <div class="bg-brand-900/40 border-b border-white/10 text-sm">
    <div class="mx-auto max-w-7xl px-4 py-2 text-center">
      <span class="opacity-80">Now booking <strong>November</strong> pilot installs for Charlotte-area businesses ‚Äî setup in ~72 hours.</span>
      <a href="#builder" class="ml-2 underline decoration-brand-400 hover:text-brand-300">Build your AI ‚Üí</a>
    </div>
  </div>

  <!-- Header -->
  <header class="sticky top-0 z-50 bg-ink/70 glass">
    <div class="mx-auto max-w-7xl px-4">
      <div class="flex h-16 items-center justify-between">
        <a href="#" class="flex items-center gap-3">
          <img src="images/logo/ChatGPT Image Oct 26, 2025, 04_40_34 PM.png" alt="AOS logo" class="site-logo" />
          <div class="leading-tight">
            <div class="font-semibold tracking-tight">AOS</div>
            <div class="text-xs text-white/60">AI Optimization Solutions ‚Ä¢ Charlotte, NC</div>
          </div>
        </a>
        <nav class="hidden md:flex items-center gap-8 text-sm">
          <a href="#features" class="hover:text-brand-300">Features</a>
          <a href="#solutions" class="hover:text-brand-300">Industries</a>
          <a href="#builder" class="hover:text-brand-300">AI Builder</a>
          <a href="#faq" class="hover:text-brand-300">FAQ</a>
        </nav>
        <div class="flex items-center gap-3">
          <a href="https://calendly.com/razerrtrading/30min" target="_blank" class="hidden sm:inline-flex text-sm px-4 py-2 rounded-xl border border-white/10 hover:bg-white/5">Live demo</a>
          <a href="#builder" class="inline-flex text-sm px-4 py-2 rounded-xl bg-brand-500 hover:bg-brand-600">Build & Buy</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative gradient overflow-hidden">
    <div class="mx-auto max-w-7xl px-4 pt-16 pb-24 md:pt-24 md:pb-28">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <div>
          <div class="inline-flex items-center gap-2 rounded-full border border-white/10 px-3 py-1 text-xs text-white/70 mb-5">
            <span>ü§ñ Charlotte‚Äôs 24/7 AI Receptionist</span><span class="opacity-30">‚Ä¢</span><span>Built for local operators</span>
          </div>
          <h1 class="text-4xl md:text-6xl font-extrabold tracking-tight leading-tight">
            Turn <span class="text-brand-400">missed calls</span> into booked jobs‚Äîautomatically.
          </h1>
          <p class="mt-5 text-white/70 max-w-xl">
            AOS installs AI receptionists that answer calls, text back, quote, and book directly into your calendar.
            Specializations for <strong>car detailing, car rentals, window tint</strong>, and <strong>auto mechanic shops (coming soon)</strong> across the Charlotte metro.
          </p>
          <div class="mt-8 flex flex-wrap gap-3">
            <a href="#builder" class="px-5 py-3 rounded-xl bg-brand-500 hover:bg-brand-600 font-medium">Build your AI now</a>
            <a href="https://calendly.com/razerrtrading/30min" target="_blank" class="px-5 py-3 rounded-xl border border-white/10 hover:bg-white/5">Book on Calendly</a>
          </div>
        </div>

        <!-- Hero Card -->
        <div class="relative">
          <div class="glass rounded-2xl p-6 md:p-8 shadow-soft">
            <div class="text-sm text-white/60">Live conversation</div>
            <div class="mt-3 space-y-3">
              <div class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full bg-brand-500 grid place-items-center">ü§ñ</div>
                <div class="flex-1 text-sm"><span class="text-white/70">AOS:</span> Hey! Want a same-day detail or tomorrow?</div>
              </div>
              <div class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full bg-white/10 grid place-items-center">üë§</div>
                <div class="flex-1 text-sm">Tomorrow 2pm in South End. Interior + exterior?</div>
              </div>
              <div class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full bg-brand-500 grid place-items-center">ü§ñ</div>
                <div class="flex-1 text-sm">Interior+Exterior from $179. I can lock in <strong>2:00 PM</strong>. What‚Äôs your full name, email, and phone?</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="py-20 md:py-28">
    <div class="mx-auto max-w-7xl px-4">
      <h2 class="text-3xl md:text-4xl font-bold tracking-tight">Capture and convert more Charlotte leads.</h2>
      <p class="mt-3 text-white/70 max-w-2xl">AOS connects calls, SMS, and booking into one AI that performs like your best receptionist‚Äîwithout days off.</p>
      <div class="mt-10 grid md:grid-cols-3 gap-6">
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">üìû Missed call ‚Üí instant text ‚Üí booked</h3><p class="mt-2 text-white/70 text-sm">Quote, answer FAQs, and reserve a time in seconds.</p></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">üìÖ Calendar & CRM sync</h3><p class="mt-2 text-white/70 text-sm">Two-way Google/iCal sync with CRM or Sheets logging.</p></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">üß† Trained on your pricing & policies</h3><p class="mt-2 text-white/70 text-sm">Accurate quotes, add-ons, deposits, and service areas.</p></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">ü§ù Human handoff</h3><p class="mt-2 text-white/70 text-sm">Complex request? It routes to you instantly.</p></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">üìà Analytics & QA</h3><p class="mt-2 text-white/70 text-sm">Track booked jobs, response times, and transcripts.</p></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">‚ö° Replies in &lt; 2 seconds</h3><p class="mt-2 text-white/70 text-sm">Keep prospects engaged while others send them to voicemail.</p></div>
      </div>
    </div>
  </section>

  <!-- Industries -->
  <section id="solutions" class="py-20 md:py-28 bg-white/5">
    <div class="mx-auto max-w-7xl px-4">
      <h2 class="text-3xl font-bold tracking-tight mb-10">Pre-tuned for Charlotte niches.</h2>
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">Car Detailing</h3><ul class="mt-3 text-sm text-white/70 list-disc list-inside"><li>Interior / Exterior / Full menu</li><li>Upsells: pet hair, shampoo, ceramic</li></ul></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">Car Rentals</h3><ul class="mt-3 text-sm text-white/70 list-disc list-inside"><li>Deposits, insurance, age rules</li><li>Extensions, late returns</li></ul></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">Window Tint</h3><ul class="mt-3 text-sm text-white/70 list-disc list-inside"><li>Film types & shade recommendations</li><li>Add-ons: windshield strip, ceramic upgrade</li></ul></div>
        <div class="glass rounded-2xl p-6"><h3 class="font-semibold">Auto Mechanic Shops <span class="text-xs text-white/50">(coming soon)</span></h3><ul class="mt-3 text-sm text-white/70 list-disc list-inside"><li>Service triage & job type intake</li><li>Estimate ranges by make/model</li></ul></div>
      </div>
    </div>
  </section>

  <!-- AI BUILDER (NEW) -->
  <section id="builder" class="py-20 md:py-28">
    <div class="mx-auto max-w-6xl px-4">
      <div class="glass rounded-2xl p-6 md:p-10">
        <div class="flex items-start justify-between gap-8 flex-col lg:flex-row">
          <div class="w-full lg:w-1/2">
            <h2 class="text-3xl font-bold tracking-tight">Build your AI Receptionist</h2>
            <p class="mt-2 text-white/70">Answer a few questions. Get a customized system prompt + an import-ready n8n workflow JSON.</p>

            <form id="aiForm" class="grid gap-3 mt-6">
              <div class="grid md:grid-cols-2 gap-3">
                <input class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Business name" name="bizName" required>
                <input class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="City / Service area" name="location" required>
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <select name="industry" class="appearance-none rounded-xl bg-white/10 border border-white/10 px-4 py-3 pr-10 text-white focus:ring-2 focus:ring-brand-500" required>
                  <option value="" disabled selected>Choose industry</option>
                  <option>Car Detailing</option>
                  <option>Car Rentals</option>
                  <option>Window Tint</option>
                  <option>Auto Mechanic</option>
                  <option>Other</option>
                </select>
                <input name="services" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Core services (comma-separated)" required>
              </div>

              <textarea name="pricing" rows="2" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Typical price ranges (e.g., Interior $99‚Äì149, Full Detail $179‚Äì249)"></textarea>

              <div class="grid md:grid-cols-2 gap-3">
                <input name="hours" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Hours (e.g., Mon‚ÄìSat 9‚Äì6)">
                <input name="calendarLink" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Booking link (Google/Calendly)">
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <input name="email" type="email" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Confirmation email (optional)">
                <input name="phone" inputmode="tel" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Business phone (optional)">
              </div>

              <div class="grid md:grid-cols-2 gap-3">
                <label class="flex items-center gap-2 text-sm"><input type="checkbox" name="upsell_pet" class="accent-brand-500"> Upsell: Pet Hair</label>
                <label class="flex items-center gap-2 text-sm"><input type="checkbox" name="upsell_ceramic" class="accent-brand-500"> Upsell: Ceramic / Premium</label>
              </div>

              <textarea name="policies" rows="2" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Deposits / cancellation / service area rules (optional)"></textarea>

              <div class="grid md:grid-cols-2 gap-3">
                <input name="googleCalendarId" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Google Calendar ID (optional)">
                <input name="timezone" class="rounded-xl bg-white/5 border border-white/10 px-4 py-3 placeholder-white/40 focus:ring-2 focus:ring-brand-500" placeholder="Timezone (e.g., America/New_York)">
              </div>

              <!-- Purchase / Generate -->
              <div class="mt-4 flex flex-wrap gap-3">
                <!-- If you want paywall first, replace type with button and call payThenGenerate() -->
                <button id="previewBtn" type="button" class="px-5 py-3 rounded-xl bg-brand-500 hover:bg-brand-600 font-medium">Preview</button>
                <button id="downloadPromptBtn" type="button" class="px-5 py-3 rounded-xl border border-white/10 hover:bg-white/5" disabled>Download Prompt (.txt)</button>
                <button id="downloadJsonBtn" type="button" class="px-5 py-3 rounded-xl border border-white/10 hover:bg-white/5" disabled>Download n8n (.json)</button>
                <!-- Optional Stripe checkout (paste your link) -->
                <a id="checkoutLink" href="#" target="_blank" class="px-5 py-3 rounded-xl bg-white text-ink font-medium hidden">Checkout to Unlock</a>
              </div>

              <p class="text-xs text-white/50 mt-2">Tip: After importing the n8n workflow, open each credential node (OpenAI, Google Calendar, Email/SMTP) and connect your own accounts.</p>
            </form>
          </div>

          <!-- Preview Pane -->
          <div class="w-full lg:w-1/2">
            <div class="glass rounded-2xl p-5 h-full">
              <h3 class="text-xl font-semibold">Live Preview</h3>
              <div class="mt-3">
                <h4 class="text-sm text-white/60 mb-2">System Prompt</h4>
                <div id="promptOut" class="code text-sm bg-black/30 rounded-xl p-4 border border-white/10 min-h-[200px]"></div>
              </div>
              <div class="mt-6">
                <h4 class="text-sm text-white/60 mb-2">n8n Workflow JSON</h4>
                <div id="jsonOut" class="code text-xs bg-black/30 rounded-xl p-4 border border-white/10 min-h-[200px] overflow-auto"></div>
              </div>
              <div id="notice" class="mt-4 text-xs text-white/60"></div>
            </div>
          </div>
        </div>
      </div>

      <!-- Optional Pricing Toggle / Explainer -->
      <div class="mt-6 text-center text-white/60 text-sm">
        Want a done-for-you install? <a class="underline decoration-brand-400" href="https://calendly.com/razerrtrading/30min" target="_blank">Book a call</a>.
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section id="cta" class="py-20 md:py-28 bg-white/5">
    <div class="mx-auto max-w-5xl px-4">
      <div class="glass rounded-2xl p-8 md:p-12">
        <div class="grid md:grid-cols-2 gap-8">
          <div>
            <h2 class="text-3xl font-bold tracking-tight">Prefer white-glove setup?</h2>
            <p class="mt-3 text-white/70">
              We‚Äôll map your call flow, import services/pricing, connect your calendar/CRM, then deploy your model in ~72 hours.
              <strong>Pricing is discussed on the call</strong> so we can customize to your volume and tools.
            </p>
          </div>
          <div>
            <iframe class="w-full rounded-2xl border border-white/10" style="height:600px;" src="https://calendly.com/razerrtrading/30min?hide_event_type_details=1&hide_gdpr_banner=1"></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="py-20 md:py-28">
    <div class="mx-auto max-w-4xl px-4">
      <h2 class="text-3xl font-bold tracking-tight text-center">Frequently asked questions</h2>
      <div class="mt-8 divide-y divide-white/10">
        <details class="group py-4"><summary class="flex justify-between cursor-pointer"><span>How do I import the n8n JSON?</span><span class="transition group-open:rotate-180">‚åÑ</span></summary><p class="mt-2 text-white/70 text-sm">In n8n, click <em>Import from File</em>, select the JSON you downloaded here, then connect your own credentials on the OpenAI, Google Calendar, and Email nodes.</p></details>
        <details class="group py-4"><summary class="flex justify-between cursor-pointer"><span>Does this work with ChatGPT, Claude, Gemini?</span><span class="transition group-open:rotate-180">‚åÑ</span></summary><p class="mt-2 text-white/70 text-sm">Yes. The prompt is provider-agnostic. The n8n template uses OpenAI by default but you can swap to any LLM node.</p></details>
        <details class="group py-4"><summary class="flex justify-between cursor-pointer"><span>Can it quote my exact pricing?</span><span class="transition group-open:rotate-180">‚åÑ</span></summary><p class="mt-2 text-white/70 text-sm">Enter your price ranges above. The bot repeats these in quotes and confirms before booking.</p></details>
      </div>
    </div>
  </section>

  <footer class="py-10 text-center text-white/40 text-sm">¬© <span id="year"></span> AOS ‚Äî AI Optimization Solutions</footer>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();

    const form = document.getElementById('aiForm');
    const previewBtn = document.getElementById('previewBtn');
    const downloadPromptBtn = document.getElementById('downloadPromptBtn');
    const downloadJsonBtn = document.getElementById('downloadJsonBtn');
    const promptOut = document.getElementById('promptOut');
    const jsonOut = document.getElementById('jsonOut');
    const notice = document.getElementById('notice');
    const checkoutLink = document.getElementById('checkoutLink');

    function getValues() {
      const data = Object.fromEntries(new FormData(form).entries());
      data.upsells = [
        form.upsell_pet?.checked ? "Pet Hair" : null,
        form.upsell_ceramic?.checked ? "Ceramic / Premium" : null
      ].filter(Boolean);
      return data;
    }

    function buildPrompt(v) {
      const upsellLine = v.upsells.length ? `Offer upsells: ${v.upsells.join(", ")} when relevant.` : "";
      const pricingLine = v.pricing ? `Use these price ranges to quote: ${v.pricing}. Never invent pricing outside this range; if uncertain, say you'll confirm.` : "Give estimate ranges only; confirm exact price on site.";
      const policies = v.policies ? `Policies to respect: ${v.policies}` : "Be polite and concise.";

      return `Role
You are "${v.bizName}" ‚Äî a friendly, professional AI receptionist for ${v.industry} in ${v.location}. Your goals: greet, qualify, price accurately, and book into the calendar.

Current Time
{{ "now" | date: "%A, %B %d, %Y, %I:%M %p", "America/New_York" }}

Voice & Persona
Warm, natural, confident; short replies (1‚Äì2 sentences); never robotic. Use casual fillers sparingly (‚Äúsounds good‚Äù, ‚Äúno worries‚Äù).

Intake Data (collect every time)
‚Ä¢ Full name ‚Ä¢ Email ‚Ä¢ Phone number ‚Ä¢ Requested service ‚Ä¢ Preferred date/time ‚Ä¢ Zip/area if needed

Capabilities
‚Ä¢ Recommend the right ${v.industry} service from: ${v.services}.
‚Ä¢ ${pricingLine}
‚Ä¢ Confirm availability using the connected calendar (hold tentative slot, then finalize).
‚Ä¢ Send confirmation message/email with details and cancellation policy.
${upsellLine}
‚Ä¢ Route complex or unusual requests to a human instantly.

Booking Rules
‚Ä¢ Offer soonest availability and next best options.
‚Ä¢ If time is unavailable, present 2 close alternatives.
‚Ä¢ Summarize: service, date/time, name, email, phone, price/estimate.

Links
Booking: ${v.calendarLink || "N/A"}

Policies
${policies}

Output Format
‚Ä¢ Keep messages short and human.
‚Ä¢ When ready to book: ‚ÄúI can lock in [DATE, TIME]. Full name, email, and phone?‚Äù
‚Ä¢ After booking: ‚ÄúYou‚Äôre all set! A confirmation was sent to [email].‚Äù

Fail-safes
‚Ä¢ If unclear on price/policy, say you‚Äôll confirm before scheduling.
‚Ä¢ Never make medical/legal/financial claims.
‚Ä¢ If outside service area, suggest alternatives or travel fee.

End of instructions.`;
    }

    function buildN8N(v, prompt) {
      // Minimal, importable n8n workflow (no credentials bound).
      const workflow = {
        name: `${v.bizName} ‚Äì AI Receptionist`,
        nodes: [
          {
            id: "Webhook_Trigger",
            name: "Incoming Message",
            type: "n8n-nodes-base.webhook",
            typeVersion: 1,
            position: [200, 300],
            parameters: {
              httpMethod: "POST",
              path: "ai-receptionist",
              responseMode: "onReceived",
              options: { responseCode: 200, responseData: "ok" }
            }
          },
          {
            id: "LLM_Chat",
            name: "LLM Chat (OpenAI)",
            type: "n8n-nodes-base.openAi",
            typeVersion: 4,
            position: [520, 300],
            parameters: {
              operation: "chat",
              model: "gpt-4o-mini",
              systemMessage: prompt,
              text: "={{$json.message || $json.text || $json.body || ''}}",
              temperature: 0.4
            },
            credentials: { openAIApi: { id: "__CONNECT_IN_N8N__", name: "OpenAI" } }
          },
          {
            id: "Router",
            name: "Intent Router",
            type: "n8n-nodes-base.if",
            typeVersion: 1,
            position: [780, 300],
            parameters: {
              conditions: {
                string: [
                  { value1: "={{$json.data || $json || ''}}", operation: "contains", value2: "book" },
                  { value1: "={{$json.data || $json || ''}}", operation: "contains", value2: "schedule" }
                ]
              }
            }
          },
          {
            id: "Google_Calendar",
            name: "Create Event",
            type: "n8n-nodes-base.googleCalendar",
            typeVersion: 3,
            position: [1040, 240],
            parameters: {
              operation: "create",
              calendarId: v.googleCalendarId || "",
              start: "={{$json.preferredStart || $json.requestedStart}}",
              end: "={{$json.preferredEnd || $json.requestedEnd}}",
              summary: `={{"${v.bizName} ‚Äì "+($json.service||"Appointment")}}`,
              description: "={{$json.name+\" | \"+$json.email+\" | \"+$json.phone}}",
              options: { timezone: v.timezone || "America/New_York" }
            },
            credentials: { googleCalendarOAuth2Api: { id: "__CONNECT_IN_N8N__", name: "Google Calendar" } }
          },
          {
            id: "Email",
            name: "Send Confirmation",
            type: "n8n-nodes-base.emailSend",
            typeVersion: 2,
            position: [1280, 240],
            parameters: {
              fromEmail: v.email || "no-reply@yourdomain.com",
              toEmail: "={{$json.email}}",
              subject: `${v.bizName} ‚Äì Appointment Confirmed`,
              text: `={{"Hi "+$json.name+", your "+($json.service||"appointment")+" is confirmed for "+($json.confirmedTime||$json.preferredStart)+". Location: ${v.location}. If you need changes, reply to this email. ‚Äì ${v.bizName}"}}`
            },
            credentials: { smtp: { id: "__CONNECT_IN_N8N__", name: "SMTP" } }
          },
          {
            id: "Return_Response",
            name: "HTTP Response",
            type: "n8n-nodes-base.respondToWebhook",
            typeVersion: 1,
            position: [1280, 380],
            parameters: {
              responseBody: "={{$json.reply || $json.data || $json || \"Thanks! We'll be in touch.\"}}",
              responseCode: 200
            }
          }
        ],
        connections: {
          "Incoming Message": { main: [[{ node: "LLM Chat (OpenAI)", type: "main", index: 0 }]] },
          "LLM Chat (OpenAI)": { main: [[{ node: "Intent Router", type: "main", index: 0 }]] },
          "Intent Router": {
            main: [
              [{ node: "Create Event", type: "main", index: 0 }],    // If booking intent
              [{ node: "HTTP Response", type: "main", index: 0 }]     // Else general reply
            ]
          },
          "Create Event": { main: [[{ node: "Send Confirmation", type: "main", index: 0 }]] },
          "Send Confirmation": { main: [[{ node: "HTTP Response", type: "main", index: 0 }]] }
        },
        settings: { timezone: v.timezone || "America/New_York" },
        staticData: null,
        pinData: {}
      };
      return workflow;
    }

    function enableDownloads(enabled) {
      downloadPromptBtn.disabled = !enabled;
      downloadJsonBtn.disabled = !enabled;
    }

    function toBlobDownload(filename, content, mime="text/plain") {
      const blob = new Blob([content], {type: mime});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = filename;
      document.body.appendChild(a); a.click(); a.remove();
      URL.revokeObjectURL(url);
    }

    function preview() {
      const v = getValues();
      const prompt = buildPrompt(v);
      const json = buildN8N(v, prompt);
      promptOut.textContent = prompt;
      jsonOut.textContent = JSON.stringify(json, null, 2);
      enableDownloads(true);
      notice.textContent = "Ready! Click the download buttons to save your files. Import the JSON in n8n.";
    }

    // If you want to require checkout first, set a link on #checkoutLink and hide download buttons until paid.
    function payThenGenerate() {
      // Example: window.location.href = "https://buy.stripe.com/your_price_id";
      // After redirect back with ?paid=true -> call preview() and enable downloads.
    }

    previewBtn.addEventListener('click', preview);

    downloadPromptBtn.addEventListener('click', () => {
      const v = getValues();
      const prompt = buildPrompt(v);
      toBlobDownload(`${(v.bizName||"AI_Receptionist").replace(/\s+/g,'_')}_prompt.txt`, prompt, "text/plain;charset=utf-8");
    });

    downloadJsonBtn.addEventListener('click', () => {
      const v = getValues();
      const prompt = buildPrompt(v);
      const json = buildN8N(v, prompt);
      toBlobDownload(`${(v.bizName||"AI_Receptionist").replace(/\s+/g,'_')}_n8n.json`, JSON.stringify(json, null, 2), "application/json");
    });
  </script>
</body>
</html>
