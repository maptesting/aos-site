<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AOS â€” AI Receptionist Prompt Pack (Free Builder)</title>

  <!-- SEO + Social -->
  <meta name="description" content="Build your own AI Receptionist in 30 seconds â€” free. Generate prompts, workflows, and voice previews for any business.">
  <meta property="og:title" content="AOS â€” Free AI Receptionist Builder">
  <meta property="og:description" content="Generate a custom AI receptionist instantly â€” prompt, workflows, and voice demo included.">
  <meta property="og:image" content="https://yourdomain.com/og-preview.png">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">

  <!-- Favicon -->
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">ðŸ¤–</text></svg>'>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Plausible Analytics (optional) -->
  <script async src="https://plausible.io/js/pa-Q4KaToxxaS4kAgA27RHba.js"></script>
  <script>
    window.plausible = window.plausible || function(){(plausible.q = plausible.q || []).push(arguments)};
    plausible.init = plausible.init || function(i){plausible.o = i || {}};
    plausible.init();
  </script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { brand: { 500: "#556dff", 600: "#3d4fe6" }, ink: "#0b0f1a" },
          boxShadow: { soft: "0 8px 30px rgba(0,0,0,.18)" }
        }
      }
    }
  </script>
  <style>
    body{background:#0b0f1a;color:#fff}
    .gradient{background:
      radial-gradient(1200px 600px at 20% -10%, rgba(85,109,255,.25), transparent 60%),
      radial-gradient(1000px 600px at 100% 0%, rgba(34,42,130,.35), transparent 60%);}
    .glass{backdrop-filter:blur(10px);background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08)}
    .code{white-space:pre-wrap;font-family:ui-monospace,Menlo,Consolas,monospace}
    input,textarea{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:.9rem 1rem}
    input::placeholder,textarea::placeholder{color:rgba(255,255,255,.4)}
    input:focus,textarea:focus{outline:none;box-shadow:0 0 0 2px rgba(85,109,255,.5)}
  </style>
</head>
<body>
  <header class="gradient border-b border-white/10">
    <div class="max-w-6xl mx-auto px-4 py-6 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 rounded-xl bg-brand-500 grid place-items-center">ðŸ¤–</div>
        <div>
          <div class="font-semibold">AOS</div>
          <div class="text-white/60 text-xs">AI Optimization Solutions</div>
        </div>
      </div>
      <a href="#builder" class="px-4 py-2 rounded-xl bg-brand-500 hover:bg-brand-600">Build Free</a>
    </div>
  </header>

  <!-- Hero -->
  <section class="relative gradient overflow-hidden">
    <div class="mx-auto max-w-7xl px-4 pt-20 pb-16 md:pt-24 md:pb-24">
      <div class="grid md:grid-cols-2 gap-16 items-start">
        <!-- Left side -->
        <div>
          <h1 class="text-4xl md:text-5xl font-extrabold leading-tight">
            AI Receptionist Prompt Pack â€” <span class="text-brand-500">Free Builder</span>
          </h1>
          <p class="mt-6 text-white/70 max-w-2xl leading-relaxed">
            Answer a few questions about your business. Get a production-ready System Prompt (preview) and
            download two <b>n8n</b> workflows â€” <em>checkAvailability</em> and <em>bookAppointment</em>.
            Works with any industry, anywhere.
          </p>
          <div class="mt-8">
            <a href="#builder" class="px-5 py-3 rounded-xl bg-brand-500 hover:bg-brand-600">Start Building</a>
          </div>
        </div>

        <!-- Live Demo Chat (placeholder UI) -->
        <div class="glass rounded-2xl p-6 md:p-8 shadow-soft mt-6 md:mt-0" id="demoChat">
          <div class="text-sm text-white/60 mb-2">Talk to Ava â€” Receptionist at BrightSmile Dental Clinic</div>
          <div id="chatBox" class="h-64 overflow-y-auto bg-black/20 rounded-xl p-3 space-y-3 text-sm border border-white/10">
            <div class="flex gap-3">
              <div class="w-8 h-8 rounded-full bg-brand-500 grid place-items-center">ðŸ¤–</div>
              <div>Hi! This is Ava from BrightSmile Dental â€” how can I help you today?</div>
            </div>
          </div>
          <form id="chatForm" class="mt-3 flex gap-2" action="javascript:void(0)" autocomplete="off">
            <input id="chatInput" type="text" placeholder="Type your message..." class="flex-1 bg-white/5 border border-white/10 rounded-xl px-3 py-2 text-sm" required>
            <button id="chatSend" type="button" class="bg-brand-500 hover:bg-brand-600 rounded-xl px-4 py-2 text-sm font-medium">Send</button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- Builder -->
  <section id="builder" class="py-24 md:py-32 scroll-mt-28">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-center text-3xl font-bold mb-10 text-white">Build your AI Receptionist here ðŸ‘‡</h2>
      <div class="glass rounded-2xl p-6 md:p-10">
        <div class="flex items-start justify-between gap-12 flex-col lg:flex-row">
          <!-- Form -->
          <div class="w-full lg:w-1/2">
            <h3 class="text-2xl font-semibold mb-4">Your Business</h3>
            <form id="aiForm" class="grid gap-4 mt-4">
              <input name="bizName" placeholder="Business Name" required>
              <input name="location" placeholder="Location / Service area" required>
              <input name="industry" placeholder="Industry (e.g., salon, rentals, clinic)" required>
              <input name="services" placeholder="Services (comma-separated)" required>
              <div class="grid md:grid-cols-2 gap-4">
                <input name="agentName" placeholder="Agent Name" value="Alex">
                <input name="language" placeholder="Language" value="English">
              </div>
              <div class="grid md:grid-cols-2 gap-4">
                <input name="hours" placeholder="Hours (e.g., Monâ€“Sat 9â€“6)">
                <input name="timezone" placeholder="Timezone (e.g., America/New_York)">
              </div>
              <div class="grid md:grid-cols-2 gap-4">
                <input name="calendarId" placeholder="Google Calendar ID (e.g., primary)">
                <input name="email" type="email" placeholder="Confirmation email sender (optional)">
              </div>
              <textarea name="policies" rows="2" placeholder="Policies / deposits / refunds (optional)"></textarea>

              <div class="mt-3 flex gap-3 flex-wrap">
                <button type="button" id="previewBtn" class="px-4 py-3 rounded-xl bg-brand-500 hover:bg-brand-600 font-medium inline-flex items-center gap-2">
                  <span id="previewSpinner" class="hidden inline-block w-4 h-4 border-2 border-white/40 border-t-white rounded-full animate-spin"></span>
                  <span>Generate Preview</span>
                </button>
                <button type="button" id="ttsBtn" class="px-4 py-3 rounded-xl border border-white/10 hover:bg-white/5 font-medium">â–¶ Hear AI Greeting</button>
              </div>
            </form>
          </div>

          <!-- Preview -->
          <div class="w-full lg:w-1/2">
            <div class="glass rounded-2xl p-5 h-full">
              <h3 class="text-xl font-semibold">System Prompt â€” Preview</h3>
              <div class="text-xs text-white/60">Preview only (truncated)</div>
              <div id="promptOut" class="code text-sm bg-black/30 rounded-xl p-4 border border-white/10 min-h-[280px] mt-3"></div>

              <div class="mt-6">
                <h4 class="text-sm font-semibold text-white/80 mb-2">Downloads</h4>
                <div class="flex flex-wrap gap-2">
                  <button id="downloadPromptBtn" class="px-4 py-2 rounded-xl bg-brand-500/80 hover:bg-brand-600 font-medium disabled:opacity-50" disabled>Download Full Prompt (.txt)</button>
                  <button id="downloadAvailBtn" class="px-4 py-2 rounded-xl border border-white/10 hover:bg-white/5 disabled:opacity-50" disabled>Download: checkAvailability.json</button>
                  <button id="downloadBookBtn" class="px-4 py-2 rounded-xl border border-white/10 hover:bg-white/5 disabled:opacity-50" disabled>Download: bookAppointment.json</button>
                </div>
                <div id="successMsg" class="hidden mt-3 text-sm text-green-400">Downloaded âœ…</div>
              </div>

              <div class="mt-6">
                <div id="audioWrap" class="hidden">
                  <audio id="audio" controls class="w-full"></audio>
                  <a id="audioDownload" download="ai-greeting.mp3" class="inline-block mt-2 text-sm underline decoration-blue-400">Download audio</a>
                </div>
                <div id="notice" class="mt-2 text-xs text-white/60"></div>
                <div id="debug" class="mt-2 text-xs text-red-400"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <p class="text-center text-sm text-white/50 mt-8">
        After import, attach your Google Calendar OAuth2 and OpenAI credentials in n8n.
      </p>
    </div>
  </section>

  <footer class="py-10 text-center text-white/40 text-sm">
    Â© <span id="year"></span> AOS â€” AI Optimization Solutions
  </footer>

  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>

  <!-- ======= Binder: Prompt generation is separate; JSONs download raw from /templates ======= -->
  <script>
  (function () {
    const $ = (id) => document.getElementById(id);

    // 1) EXACT template file locations (must exist in your public /templates folder)
    const TPLS = {
      avail: '/templates/checkAvailability.json',
      book:  '/templates/bookAppointment.json',
    };

    // 2) Build the LONG prompt (does not touch JSON)
    function buildPrompt(v = {}) {
      const tz        = v.timezone  || 'America/New_York';
      const biz       = v.bizName   || 'the business';
      const agent     = v.agentName || 'Alex';
      const industry  = v.industry  || 'services';
      const services  = v.services  || 'General services';
      const hours     = v.hours     || 'Monâ€“Fri 9:00â€“17:00';
      const location  = v.location  || 'Local area';
      const policies  = v.policies  || 'Standard policies apply.';
      const emailFrom = v.email     || 'no-reply@example.com';
      const now = (()=>{ try {
        return new Date().toLocaleString('en-US',{timeZone:tz,weekday:'long',year:'numeric',month:'long',day:'2-digit',hour:'2-digit',minute:'2-digit'});
      } catch { return new Date().toLocaleString(); } })();
      const L = (val, label) => `${label}: ${val || 'N/A'}`;

      return [
`# ROLE
You are ${agent}, a friendly, efficient AI receptionist for **${biz}** (${industry}). Keep replies to 1â€“2 sentences, natural and clear.

# CURRENT TIME
- Current time: **${now}**
- Timezone: **${tz}**
Use ISO 8601 timestamps when interacting with tools.

# BUSINESS CONTEXT
${L(biz,'Business')}
${L(location,'Location / Service')}
${L(industry,'Industry')}
${L(services,'Services')}
${L(hours,'Hours')}
${L(policies,'Policies')}

# TASK
Answer questions and help book appointments quickly.

# BOOKING FLOW
1) Ask for the preferred date/time (within ${hours}).
2) Check the requested slot.
3) If unavailable, propose up to 3 close alternatives (same day or next business day).
4) Collect full name, email, phone.
5) Confirm slot and create the booking.
6) Summarize details and say a confirmation will be sent from **${emailFrom}**.

# STYLE & RULES
- Warm, concise, confident; use contractions.
- Donâ€™t invent availability outside ${hours}.
- Ask one clarifying question when needed; then act.
- Confirm final date/time + contact details before booking.
- Donâ€™t mention internal tools to the user.

# EXAMPLE
User: â€œCan I come tomorrow at 3 for ${services.split(',')[0].trim()}?â€
You: â€œHappy to help â€” is **tomorrow 3:00 PM** best? Whatâ€™s your **name and email**?â€
(then check slot and book)
You: â€œAll set â€” booked **tomorrow 3:00â€“4:00 PM**. Youâ€™ll get a confirmation shortly.â€`
      ].join('\n');
    }

    // 3) Helpers
    function getValues() {
      const form = $('aiForm'); if (!form) return {};
      const v = Object.fromEntries(new FormData(form).entries());
      try { v.timezone ||= Intl.DateTimeFormat().resolvedOptions().timeZone || ""; } catch {}
      v.agentName ||= 'Alex';
      v.language  ||= 'English';
      return v;
    }
    function truncate(s, n=1200) { return s && s.length>n ? s.slice(0,n)+' â€¦' : (s||''); }

    async function downloadRaw(url, filename) {
      const res = await fetch(url, { cache: 'no-store' });
      if (!res.ok) {
        console.error('Template fetch failed:', url, res.status);
        alert(`Could not find template at ${url} (HTTP ${res.status}). Ensure the file is in /public/templates on your host.`);
        return;
      }
      const blob = await res.blob();
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = filename;
      a.click();
      URL.revokeObjectURL(a.href);
      const ok = $('successMsg'); if (ok) { ok.textContent = `${filename} downloaded âœ…`; ok.classList.remove('hidden'); clearTimeout(ok._t); ok._t = setTimeout(()=>ok.classList.add('hidden'), 2000); }
    }

    function wirePromptDownload() {
      const btn = $('downloadPromptBtn'); if (!btn) return;
      btn.onclick = async (e) => {
        e.preventDefault();
        btn.disabled = true; btn.classList.add('opacity-50');
        try {
          const text = buildPrompt(getValues());
          const a = document.createElement('a');
          a.href = URL.createObjectURL(new Blob([text], { type: 'text/plain;charset=utf-8' }));
          a.download = `${(getValues().bizName || 'AI_Receptionist')}_prompt.txt`;
          a.click(); URL.revokeObjectURL(a.href);
          const ok = $('successMsg'); if (ok) { ok.textContent = 'Prompt downloaded âœ…'; ok.classList.remove('hidden'); clearTimeout(ok._t); ok._t = setTimeout(()=>ok.classList.add('hidden'), 2000); }
        } finally {
          btn.disabled = false; btn.classList.remove('opacity-50');
        }
      };
    }

    function wireJsonDownloads() {
      const a = $('downloadAvailBtn');
      const b = $('downloadBookBtn');
      if (a) { a.disabled = false; a.onclick = (e)=>{ e.preventDefault(); downloadRaw(TPLS.avail, 'checkAvailability.json'); }; }
      if (b) { b.disabled = false; b.onclick = (e)=>{ e.preventDefault(); downloadRaw(TPLS.book,  'bookAppointment.json');  }; }
    }

    // 4) Preview + wiring
    async function doPreview() {
      const spinner = $('previewSpinner');
      const btn = $('previewBtn');
      const out = $('promptOut');
      if (!btn || !out) return;

      btn.disabled = true; spinner && spinner.classList.remove('hidden');
      const minWait = new Promise(r=>setTimeout(r,300));
      try {
        out.textContent = truncate(buildPrompt(getValues()));
        $('downloadPromptBtn').disabled = false;
        wirePromptDownload();
        wireJsonDownloads();
        const n = $('notice'); if (n) n.textContent = 'Downloads ready. JSONs are the exact files from /templates.';
      } catch (e) {
        console.error('Preview failed:', e);
        alert('Failed to generate preview. See console.');
      } finally {
        await minWait;
        spinner && spinner.classList.add('hidden');
        btn.disabled = false;
      }
    }

    // 5) TTS demo
    async function doTTS() {
      const v = getValues();
      const text = `Hey, this is ${v.agentName || 'Alex'} with ${v.bizName || 'your business'}. How can I help you today?`;
      try {
        const res = await fetch('/api/tts', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({
            text,
            voice_id: '21m00Tcm4TlvDq8ikWAM',
            model_id: 'eleven_multilingual_v2',
            voice_settings: { stability: 0.5, similarity_boost: 0.7 }
          })
        });
        if (!res.ok) throw new Error(await res.text());
        const blob = await res.blob();
        const url = URL.createObjectURL(blob);
        $('audio').src = url;
        $('audioWrap').classList.remove('hidden');
        $('audio').play().catch(()=>{});
        $('audioDownload').href = url;
      } catch (e) {
        console.error('TTS error:', e);
        alert('TTS error â€” check /api/tts route & ELEVENLABS_API_KEY.');
      }
    }

    // Delegated clicks
    document.addEventListener('click', (ev) => {
      const previewBtn = ev.target.closest && ev.target.closest('#previewBtn');
      if (previewBtn) { ev.preventDefault(); doPreview(); return; }
      const ttsBtn = ev.target.closest && ev.target.closest('#ttsBtn');
      if (ttsBtn) { ev.preventDefault(); doTTS(); return; }
    });
  })();
  </script>
</body>
</html>
